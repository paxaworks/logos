<!DOCTYPE html>
<html>
<head>
  <title>Fan Test</title>
</head>
<body>
  <canvas id="canvas" width="400" height="400"></canvas>
  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    
    function drawFan(time) {
      ctx.clearRect(0, 0, 400, 400);
      ctx.fillStyle = '#0f172a';
      ctx.fillRect(0, 0, 400, 400);
      
      const x = 150, y = 100, w = 100, h = 125;
      const scaleX = w / 100;
      const scaleY = h / 100;
      const fanCenterX = x + 40 * scaleX;
      const fanCenterY = y + 45 * scaleY;
      const fanRadius = 35 * scaleX;

      // 팬 외곽 원
      ctx.fillStyle = '#60A5FA';
      ctx.beginPath();
      ctx.arc(fanCenterX, fanCenterY, fanRadius, 0, Math.PI * 2);
      ctx.fill();

      // 회전하는 날개 3개
      ctx.save();
      ctx.translate(fanCenterX, fanCenterY);
      ctx.rotate(time);
      for (let i = 0; i < 3; i++) {
        ctx.save();
        ctx.rotate((Math.PI * 2 / 3) * i);
        ctx.fillStyle = '#DBEAFE';
        ctx.beginPath();
        ctx.ellipse(0, -fanRadius * 0.6, fanRadius * 0.22, fanRadius * 0.55, 0, 0, Math.PI * 2);
        ctx.fill();
        ctx.restore();
      }
      ctx.restore();

      // 팬 중앙 허브
      ctx.fillStyle = '#1E40AF';
      ctx.beginPath();
      ctx.arc(fanCenterX, fanCenterY, fanRadius * 0.22, 0, Math.PI * 2);
      ctx.fill();
      
      ctx.fillStyle = '#fff';
      ctx.font = '14px sans-serif';
      ctx.fillText('Time: ' + time.toFixed(2), 10, 30);
    }
    
    function loop() {
      const time = Date.now() / 50;
      drawFan(time);
      requestAnimationFrame(loop);
    }
    
    loop();
  </script>
</body>
</html>
